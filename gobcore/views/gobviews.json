{
  "meetbouten": {
    "meetbouten": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT  meetbouten.identificatie",
          "    ,       meetbouten.locatie",
          "    ,       eerste_metingen.datum                                           AS datum",
          "    ,       meest_recente_metingen.hoogte_tov_nap",
          "    ,       meest_recente_metingen.zakkingssnelheid",
          "    ,       meest_recente_metingen.zakking_cumulatief",
          "    ,       status",
          "    ,       meetbouten.geometrie",
          "    ,   json_build_object(",
          "             'identificatie', bouwblokken.identificatie,",
          "             'code', bouwblokken.code",
          "        ) AS _ref_ligt_in_bouwblok_gbd_bbk",
          "    ,   json_build_object(",
          "             'identificatie', buurten.identificatie,",
          "             'code', buurten.code,",
          "             'naam', buurten.naam",
          "        ) AS _ref_ligt_in_buurt_gbd_brt",
          "    ,   json_build_object(",
          "             'identificatie', stadsdelen.identificatie,",
          "             'code', stadsdelen.code,",
          "             'naam', stadsdelen.naam",
          "        ) AS _ref_ligt_in_stadsdeel_gdb_sdl",
          "    ,       nabij_nummeraanduiding AS _ref_nabij_nummeraanduiding_bag_nag",
          "            FROM              meetbouten_meetbouten                         AS meetbouten",
          "            LEFT JOIN (",
          "              SELECT identificatie, code FROM gebieden_bouwblokken",
          "              WHERE eind_geldigheid IS NULL) AS bouwblokken on meetbouten.ligt_in_bouwblok->>'id' = bouwblokken.identificatie",
          "            LEFT JOIN (",
          "              SELECT identificatie, code, naam FROM gebieden_buurten",
          "              WHERE eind_geldigheid IS NULL) AS buurten on meetbouten.ligt_in_buurt->>'id' = buurten.identificatie",
          "            LEFT JOIN (",
          "              SELECT identificatie, code, naam FROM gebieden_stadsdelen",
          "              WHERE eind_geldigheid IS NULL) AS stadsdelen on meetbouten.ligt_in_stadsdeel->>'id' = stadsdelen.identificatie",
          "            LEFT JOIN (",
          "              SELECT DISTINCT ON (hoort_bij_meetbout->>'id') * from meetbouten_metingen",
          "              ORDER BY hoort_bij_meetbout->>'id', datum ASC",
          "            ) AS eerste_metingen ON meetbouten._id = eerste_metingen.hoort_bij_meetbout->>'id'",
          "            LEFT JOIN (",
          "              SELECT DISTINCT ON (hoort_bij_meetbout->>'id') * from meetbouten_metingen",
          "              ORDER BY hoort_bij_meetbout->>'id', datum DESC",
          "            ) AS meest_recente_metingen ON meetbouten._id = meest_recente_metingen.hoort_bij_meetbout->>'id'",
          "    WHERE meetbouten.publiceerbaar = TRUE"
        ]
      }
    },
    "metingen": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT metingen.identificatie",
          "    ,       datum",
          "    ,       type_meting",
          "    ,       hoogte_tov_nap",
          "    ,       zakking",
          "    ,       zakkingssnelheid",
          "    ,       zakking_cumulatief",
          "    ,       is_gemeten_door",
          "    ,       (hoeveelste_meting - 1)                                   AS hoeveelste_meting",
          "    ,       CASE WHEN aantal_dagen::TEXT = '0' THEN ''::TEXT",
          "                 ELSE aantal_dagen::TEXT",
          "            END                                                       AS aantal_dagen",
          "    ,       wijze_van_inwinnen",
          "    ,       hoort_bij_meetbout                                        AS _ref_hoort_bij_meetbout_mbn_mbt",
          "    ,       refereert_aan_referentiepunten                            AS _mref_refereert_aan_referentiepunten_mbn_rpt",
          "    ,   json_build_object(",
          "             'identificatie', stadsdelen.identificatie,",
          "             'code', stadsdelen.code,",
          "             'naam', stadsdelen.naam",
          "        ) AS _ref_ligt_in_stadsdeel_gbd_sdl",
          "    FROM  meetbouten_metingen                                         AS metingen",
          "    LEFT JOIN (",
          "            SELECT _id, ligt_in_stadsdeel->>'id' AS ligt_in_stadsdeel FROM meetbouten_meetbouten",
          "    ) AS meetbouten ON metingen.hoort_bij_meetbout->>'id' = meetbouten._id",
          "    LEFT JOIN (",
          "            SELECT identificatie, code, naam FROM gebieden_stadsdelen",
          "            WHERE eind_geldigheid IS NULL) AS stadsdelen on meetbouten.ligt_in_stadsdeel = stadsdelen.identificatie",
          "    WHERE metingen.publiceerbaar = TRUE"
        ]
      }
    },
    "referentiepunten": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT identificatie",
          "    ,      geometrie",
          "    ,      hoogte_tov_nap",
          "    ,      datum",
          "    ,      CONCAT_WS(' ', nabij_nummeraanduiding->>'bronwaarde', locatie)       AS locatie",
          "    FROM  meetbouten_referentiepunten",
          "    WHERE publiceerbaar = TRUE"
        ]
      }
    },
    "rollagen": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT meetbouten_rollagen.identificatie",
          "    ,       ROW_NUMBER() OVER (order by meetbouten_rollagen.identificatie) AS idx",
          "    ,       ST_centroid(bouwblokken.geometrie) AS geometrie",
          "    FROM  meetbouten_rollagen",
          "        LEFT JOIN",
          "            gebieden_bouwblokken AS bouwblokken",
          "            ON meetbouten_rollagen.identificatie = bouwblokken.code",
          "    ORDER BY meetbouten_rollagen.identificatie"
        ]
      }
    }
  },
  "nap": {
    "peilmerken": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT identificatie",
          "    ,      hoogte_tov_nap",
          "    ,      jaar",
          "    ,      merk",
          "    ,      omschrijving",
          "    ,      windrichting",
          "    ,      x_coordinaat_muurvlak",
          "    ,      y_coordinaat_muurvlak",
          "    ,      rws_nummer",
          "    ,      geometrie",
          "    FROM  nap_peilmerken",
          "    WHERE publiceerbaar = TRUE"
        ]
      }
    }
  },
  "gebieden": {
    "bouwblokken": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "        bouwblokken.identificatie",
          "    ,   bouwblokken.code",
          "    ,   bouwblokken.begin_geldigheid",
          "    ,   bouwblokken.eind_geldigheid",
          "    ,   json_build_object(",
          "             'identificatie', buurten.identificatie,",
          "             'code', buurten.code,",
          "             'naam', buurten.naam",
          "        ) AS _ref_ligt_in_buurt_gbd_brt",
          "    ,   json_build_object(",
          "             'identificatie', wijken.identificatie,",
          "             'code', wijken.code,",
          "             'naam', wijken.naam",
          "        ) AS _ref_ligt_in_wijk_gbd_wijk",
          "    ,   json_build_object(",
          "             'identificatie', ggwgebieden.identificatie,",
          "             'code', ggwgebieden.code,",
          "             'naam', ggwgebieden.naam",
          "        ) AS _ref_ligt_in_ggwgebied_gbd_ggw",
          "    ,   json_build_object(",
          "             'identificatie', ggpgebieden.identificatie,",
          "             'code', ggpgebieden.code,",
          "             'naam', ggpgebieden.naam",
          "        ) AS _ref_ligt_in_ggpgebied_gbd_ggp",
          "    ,   json_build_object(",
          "             'identificatie', stadsdelen.identificatie,",
          "             'code', stadsdelen.code,",
          "             'naam', stadsdelen.naam",
          "        ) AS _ref_ligt_in_stadsdeel_gbd_sdl",
          "    ,   json_build_object(",
          "             'identificatie', gemeentes.identificatie,",
          "             'naam', gemeentes.naam",
          "        ) AS _ref_ligt_in_gemeente_brk_gme",
          "    ,   bouwblokken.geometrie",
          "    FROM",
          "        gebieden_bouwblokken AS bouwblokken",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            ,   ligt_in_wijk",
          "            FROM gebieden_buurten",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS buurten",
          "        ON bouwblokken.ligt_in_buurt->>'id' = buurten.identificatie",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            ,   ligt_in_stadsdeel",
          "            FROM gebieden_wijken",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS wijken",
          "            ON buurten.ligt_in_wijk->>'id' = wijken.identificatie",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   value->>'id' AS bestaat_uit_buurt",
          "            ,   eind_geldigheid",
          "            FROM gebieden_ggwgebieden, jsonb_array_elements(gebieden_ggwgebieden.bestaat_uit_buurten)",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS ggwgebieden",
          "            ON bouwblokken.ligt_in_buurt->>'id' = ggwgebieden.bestaat_uit_buurt",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   value->>'id' AS bestaat_uit_buurt",
          "            ,   eind_geldigheid",
          "            FROM gebieden_ggpgebieden, jsonb_array_elements(gebieden_ggpgebieden.bestaat_uit_buurten)",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS ggpgebieden",
          "            ON bouwblokken.ligt_in_buurt->>'id' = ggpgebieden.bestaat_uit_buurt",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            ,   ligt_in_gemeente",
          "            FROM gebieden_stadsdelen",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS stadsdelen",
          "            ON wijken.ligt_in_stadsdeel->>'id' = stadsdelen.identificatie",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            FROM brk_gemeentes",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS gemeentes",
          "            ON stadsdelen.ligt_in_gemeente->>'id' = gemeentes.identificatie",
          "    WHERE bouwblokken.eind_geldigheid IS NULL",
          "    ORDER BY bouwblokken.code"
        ]
      }
    },
    "buurten": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "        buurten.identificatie",
          "    ,   buurten.code",
          "    ,   buurten.naam",
          "    ,   buurten.begin_geldigheid",
          "    ,   buurten.eind_geldigheid",
          "    ,   buurten.documentdatum",
          "    ,   buurten.documentnummer",
          "    ,   buurten.cbs_code",
          "    ,   json_build_object(",
          "             'identificatie', wijken.identificatie,",
          "             'code', wijken.code,",
          "             'naam', wijken.naam",
          "        ) AS _ref_ligt_in_wijk_gbd_wijk",
          "    ,   json_build_object(",
          "             'identificatie', ggwgebieden.identificatie,",
          "             'code', ggwgebieden.code,",
          "             'naam', ggwgebieden.naam",
          "        ) AS _ref_ligt_in_ggwgebied_gbd_ggw",
          "    ,   json_build_object(",
          "             'identificatie', ggpgebieden.identificatie,",
          "             'code', ggpgebieden.code,",
          "             'naam', ggpgebieden.naam",
          "        ) AS _ref_ligt_in_ggpgebied_gebieden_ggpgebieden",
          "    ,   json_build_object(",
          "             'identificatie', stadsdelen.identificatie,",
          "             'code', stadsdelen.code,",
          "             'naam', stadsdelen.naam",
          "        ) AS _ref_ligt_in_stadsdeel_gbd_sdl",
          "    ,   json_build_object(",
          "             'identificatie', gemeentes.identificatie,",
          "             'naam', gemeentes.naam",
          "        ) AS _ref_ligt_in_gemeente_brk_gme",
          "    ,   buurten.geometrie",
          "    FROM",
          "        gebieden_buurten AS buurten",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            ,   ligt_in_stadsdeel",
          "            FROM gebieden_wijken",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS wijken",
          "            ON buurten.ligt_in_wijk->>'id' = wijken.identificatie",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   value->>'id' AS bestaat_uit_buurt",
          "            ,   eind_geldigheid",
          "            FROM gebieden_ggwgebieden, jsonb_array_elements(gebieden_ggwgebieden.bestaat_uit_buurten)",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS ggwgebieden",
          "            ON buurten.identificatie = ggwgebieden.bestaat_uit_buurt",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   value->>'id' AS bestaat_uit_buurt",
          "            ,   eind_geldigheid",
          "            FROM gebieden_ggpgebieden, jsonb_array_elements(gebieden_ggpgebieden.bestaat_uit_buurten)",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS ggpgebieden",
          "            ON buurten.identificatie = ggpgebieden.bestaat_uit_buurt",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            ,   ligt_in_gemeente",
          "            FROM gebieden_stadsdelen",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS stadsdelen",
          "            ON wijken.ligt_in_stadsdeel->>'id' = stadsdelen.identificatie",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            FROM brk_gemeentes",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS gemeentes",
          "            ON stadsdelen.ligt_in_gemeente->>'id' = gemeentes.identificatie",
          "    WHERE buurten.eind_geldigheid IS NULL",
          "    ORDER BY buurten.code"
        ]
      }
    },
    "wijken": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "        wijken.identificatie",
          "    ,   wijken.code",
          "    ,   wijken.naam",
          "    ,   wijken.begin_geldigheid",
          "    ,   wijken.eind_geldigheid",
          "    ,   wijken.documentdatum",
          "    ,   wijken.documentnummer",
          "    ,   wijken.cbs_code",
          "    ,   json_build_object(",
          "             'identificatie', ggwgebieden.identificatie,",
          "             'code', ggwgebieden.code,",
          "             'naam', ggwgebieden.naam",
          "        ) AS _ref_ligt_in_ggwgebied_gbd_ggw",
          "    ,   json_build_object(",
          "             'identificatie', stadsdelen.identificatie,",
          "             'code', stadsdelen.code,",
          "             'naam', stadsdelen.naam",
          "        ) AS _ref_ligt_in_stadsdeel_gbd_sdl",
          "    ,   json_build_object(",
          "             'identificatie', gemeentes.identificatie,",
          "             'naam', gemeentes.naam",
          "        ) AS _ref_ligt_in_gemeente_brk_gme",
          "    ,   wijken.geometrie",
          "    FROM",
          "        gebieden_wijken AS wijken",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            ,   geometrie",
          "            FROM gebieden_ggwgebieden",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS ggwgebieden",
          "            ON ST_WITHIN(wijken.geometrie, ST_BUFFER(ggwgebieden.geometrie, 0.1))",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            ,   ligt_in_gemeente",
          "            FROM gebieden_stadsdelen",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS stadsdelen",
          "            ON wijken.ligt_in_stadsdeel->>'id' = stadsdelen.identificatie",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            FROM brk_gemeentes",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS gemeentes",
          "            ON stadsdelen.ligt_in_gemeente->>'id' = gemeentes.identificatie",
          "    WHERE wijken.eind_geldigheid IS NULL",
          "    ORDER BY wijken.code"
        ]
      }
    },
    "ggwgebieden": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "        ggwgebieden.identificatie",
          "    ,   ggwgebieden.code",
          "    ,   ggwgebieden.naam",
          "    ,   ggwgebieden.begin_geldigheid",
          "    ,   ggwgebieden.eind_geldigheid",
          "    ,   ggwgebieden.documentdatum",
          "    ,   ggwgebieden.documentnummer",
          "    ,   json_build_object(",
          "             'identificatie', stadsdelen.identificatie,",
          "             'code', stadsdelen.code,",
          "             'naam', stadsdelen.naam",
          "        ) AS _ref_ligt_in_stadsdeel_gbd_sdl",
          "    ,   json_build_object(",
          "             'identificatie', gemeentes.identificatie,",
          "             'naam', gemeentes.naam",
          "        ) AS _ref_ligt_in_gemeente_brk_gme",
          "    ,   ggwgebieden.geometrie",
          "    FROM",
          "        gebieden_ggwgebieden AS ggwgebieden",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            ,   ligt_in_gemeente",
          "            FROM gebieden_stadsdelen",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS stadsdelen",
          "            ON ggwgebieden.ligt_in_stadsdeel->>'id' = stadsdelen.identificatie",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            FROM brk_gemeentes",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS gemeentes",
          "            ON stadsdelen.ligt_in_gemeente->>'id' = gemeentes.identificatie",
          "    WHERE ggwgebieden.eind_geldigheid IS NULL",
          "    ORDER BY ggwgebieden.code"
        ]
      }
    },
    "ggpgebieden": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "        ggpgebieden.identificatie",
          "    ,   ggpgebieden.code",
          "    ,   ggpgebieden.naam",
          "    ,   ggpgebieden.begin_geldigheid",
          "    ,   ggpgebieden.eind_geldigheid",
          "    ,   ggpgebieden.documentdatum",
          "    ,   ggpgebieden.documentnummer",
          "    ,   json_build_object(",
          "             'identificatie', stadsdelen.identificatie,",
          "             'code', stadsdelen.code,",
          "             'naam', stadsdelen.naam",
          "        ) AS _ref_ligt_in_stadsdeel_gbd_sdl",
          "    ,   json_build_object(",
          "             'identificatie', gemeentes.identificatie,",
          "             'naam', gemeentes.naam",
          "        ) AS _ref_ligt_in_gemeente_brk_gme",
          "    ,   ggpgebieden.geometrie",
          "    FROM",
          "        gebieden_ggpgebieden AS ggpgebieden",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   code",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            ,   ligt_in_gemeente",
          "            FROM gebieden_stadsdelen",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS stadsdelen",
          "            ON ggpgebieden.ligt_in_stadsdeel->>'id' = stadsdelen.identificatie",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            FROM brk_gemeentes",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS gemeentes",
          "            ON stadsdelen.ligt_in_gemeente->>'id' = gemeentes.identificatie",
          "    WHERE ggpgebieden.eind_geldigheid IS NULL",
          "    ORDER BY ggpgebieden.code"
        ]
      }
    },
    "stadsdelen": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "        stadsdelen.identificatie",
          "    ,   stadsdelen.code",
          "    ,   stadsdelen.naam",
          "    ,   stadsdelen.begin_geldigheid",
          "    ,   stadsdelen.eind_geldigheid",
          "    ,   stadsdelen.documentdatum",
          "    ,   stadsdelen.documentnummer",
          "    ,   json_build_object(",
          "             'identificatie', gemeentes.identificatie,",
          "             'naam', gemeentes.naam",
          "        ) AS _ref_ligt_in_gemeente_brk_gme",
          "    ,   stadsdelen.geometrie",
          "    FROM",
          "        gebieden_stadsdelen AS stadsdelen",
          "        LEFT JOIN",
          "            (SELECT",
          "                identificatie",
          "            ,   naam",
          "            ,   eind_geldigheid",
          "            FROM brk_gemeentes",
          "            WHERE eind_geldigheid IS NULL",
          "            ) AS gemeentes",
          "            ON stadsdelen.ligt_in_gemeente->>'id' = gemeentes.identificatie",
          "    WHERE stadsdelen.eind_geldigheid IS NULL",
          "    ORDER BY stadsdelen.code"
        ]
      }
    }
  },
  "bag": {
    "verblijfsobjecten": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "      vot.identificatie,",
          "      vot.aanduiding_in_onderzoek,",
          "      vot.geconstateerd,",
          "      json_build_object(",
          "        'identificatie', heeft_hoofdadres.identificatie,",
          "        'huisnummer', heeft_hoofdadres.huisnummer,",
          "        'huisletter', heeft_hoofdadres.huisletter,",
          "        'huisnummertoevoeging', heeft_hoofdadres.huisnummertoevoeging,",
          "        'postcode', heeft_hoofdadres.postcode",
          "      ) AS _ref_heeft_hoofdadres_bag_nag,",
          "      json_build_object(",
          "        'identificatie', ligt_aan_openbareruimte.identificatie,",
          "        'naam', ligt_aan_openbareruimte.naam",
          "      ) AS _ref_ligt_aan_openbareruimte_bag_ore,",
          "      json_build_object(",
          "        'identificatie', ligt_in_woonplaats.identificatie,",
          "        'naam', ligt_in_woonplaats.naam",
          "      ) AS _ref_ligt_in_woonplaats_bag_wps,",
          "      json_build_object(",
          "        'identificatie', ligt_in_gemeente.identificatie,",
          "        'naam', ligt_in_gemeente.naam",
          "      ) AS _ref_ligt_in_gemeente_brk_gme,",
          "      _mref_heeft_nevenadres_bag_nag,",
          "      vot.gebruiksdoel,",
          "      vot.gebruiksdoel_woonfunctie,",
          "      vot.gebruiksdoel_gezondheidszorgfunctie,",
          "      vot.aantal_eenheden_complex,",
          "      vot.feitelijk_gebruik,",
          "      vot.oppervlakte,",
          "      vot.status,",
          "      vot.begin_geldigheid,",
          "      vot.eind_geldigheid,",
          "      vot.documentdatum,",
          "      vot.documentnummer,",
          "      vot.verdieping_toegang,",
          "      vot.toegang,",
          "      vot.aantal_bouwlagen,",
          "      vot.hoogste_bouwlaag,",
          "      vot.laagste_bouwlaag,",
          "      vot.aantal_kamers,",
          "      vot.eigendomsverhouding,",
          "      vot.redenopvoer,",
          "      vot.redenafvoer,",
          "      _mref_ligt_in_panden_bag_pnd,",
          "      json_build_object(",
          "        'identificatie', ligt_in_bouwblok.identificatie,",
          "        'code', ligt_in_bouwblok.code",
          "      ) AS _ref_ligt_in_bouwblok_gbd_bbk,",
          "      json_build_object(",
          "        'identificatie', ligt_in_buurt.identificatie,",
          "        'code', ligt_in_buurt.code,",
          "        'naam', ligt_in_buurt.naam",
          "      ) AS _ref_ligt_in_buurt_gbd_brt,",
          "      json_build_object(",
          "        'identificatie', ligt_in_wijk.identificatie,",
          "        'code', ligt_in_wijk.code,",
          "        'naam', ligt_in_wijk.naam",
          "      ) AS _ref_ligt_in_wijk_gbd_wijk,",
          "      json_build_object(",
          "        'identificatie', ligt_in_ggwgebied.identificatie,",
          "        'code', ligt_in_ggwgebied.code,",
          "        'naam', ligt_in_ggwgebied.naam",
          "      ) AS _ref_ligt_in_ggwgebied_gbd_ggw,",
          "      json_build_object(",
          "        'identificatie', ligt_in_stadsdeel.identificatie,",
          "        'code', ligt_in_stadsdeel.code,",
          "        'naam', ligt_in_stadsdeel.naam",
          "      ) AS _ref_ligt_in_stadsdeel_gbd_sdl,",
          "      json_build_object(",
          "        'identificatie', ligt_in_ggpgebied.identificatie,",
          "        'code', ligt_in_ggpgebied.code,",
          "        'naam', ligt_in_ggpgebied.naam",
          "      ) AS _ref_ligt_in_ggpgebied_gbd_ggp,",
          "      vot.geometrie",
          "    FROM",
          "      bag_verblijfsobjecten AS vot",
          "    -- SELECT heeft_hoofdadres",
          "    LEFT JOIN",
          "      bag_nummeraanduidingen AS heeft_hoofdadres",
          "    ON",
          "      vot.heeft_hoofdadres->>'id' = heeft_hoofdadres._id AND",
          "      vot.heeft_hoofdadres->>'volgnummer' = heeft_hoofdadres.volgnummer",
          "    -- SELECT ligt_aan_openbareruimte",
          "    LEFT JOIN",
          "      bag_openbareruimtes AS ligt_aan_openbareruimte",
          "    ON",
          "      heeft_hoofdadres.ligt_aan_openbareruimte->>'id' = ligt_aan_openbareruimte._id AND",
          "      heeft_hoofdadres.ligt_aan_openbareruimte->>'volgnummer' = ligt_aan_openbareruimte.volgnummer",
          "    -- SELECT ligt_in_woonplaats",
          "    LEFT JOIN",
          "      bag_woonplaatsen AS ligt_in_woonplaats",
          "    ON",
          "      heeft_hoofdadres.ligt_in_woonplaats->>'id' = ligt_in_woonplaats._id AND",
          "      heeft_hoofdadres.ligt_in_woonplaats->>'volgnummer' = ligt_in_woonplaats.volgnummer",
          "    -- SELECT ligt_in_gemeente",
          "    LEFT JOIN",
          "      brk_gemeentes AS ligt_in_gemeente",
          "    ON",
          "      ligt_in_woonplaats.ligt_in_gemeente->>'id' = ligt_in_gemeente._id",
          "    -- SELECT heeft_nevenadres",
          "    CROSS JOIN LATERAL (",
          "      SELECT",
          "        json_agg(",
          "          json_build_object(",
          "            'identificatie', nevenadres.id",
          "          )",
          "        ) AS _mref_heeft_nevenadres_bag_nag",
          "      FROM",
          "        jsonb_to_recordset(vot.heeft_nevenadres) AS nevenadres(id text, volgnummer text)",
          "    ) AS heeft_nevenadres",
          "    -- SELECT ligt_in_panden",
          "    CROSS JOIN LATERAL (",
          "      SELECT",
          "        json_agg(",
          "          json_build_object(",
          "            'identificatie', pand.id",
          "          )",
          "        ) AS _mref_ligt_in_panden_bag_pnd",
          "      FROM",
          "        jsonb_to_recordset(vot.ligt_in_panden) AS pand(id text, volgnummer text)",
          "    ) AS ligt_in_panden",
          "    -- SELECT ligt_in_bouwblok",
          "    LEFT JOIN",
          "      bag_panden AS pand_bouwblok",
          "    ON",
          "      vot.ligt_in_panden#>>'{0,id}' = pand_bouwblok.identificatie AND",
          "      vot.ligt_in_panden#>>'{0,volgnummer}' = pand_bouwblok.volgnummer",
          "    LEFT JOIN",
          "      gebieden_bouwblokken AS ligt_in_bouwblok",
          "    ON",
          "      pand_bouwblok.ligt_in_bouwblok->>'id' = ligt_in_bouwblok.identificatie AND",
          "      pand_bouwblok.ligt_in_bouwblok->>'volgnummer' = ligt_in_bouwblok.volgnummer",
          "    -- SELECT ligt_in_buurt",
          "    LEFT JOIN",
          "      gebieden_buurten AS ligt_in_buurt",
          "    ON",
          "      vot.ligt_in_buurt->>'id' = ligt_in_buurt.identificatie AND",
          "      vot.ligt_in_buurt->>'volgnummer' = ligt_in_buurt.volgnummer",
          "    -- SELECT ligt_in_wijk",
          "    LEFT JOIN",
          "      gebieden_wijken AS ligt_in_wijk",
          "    ON",
          "      ligt_in_buurt.ligt_in_wijk->>'id' = ligt_in_wijk.identificatie AND",
          "      ligt_in_buurt.ligt_in_wijk->>'volgnummer' = ligt_in_wijk.volgnummer",
          "    -- SELECT ligt_in_stadsdeel",
          "    LEFT JOIN",
          "      gebieden_stadsdelen AS ligt_in_stadsdeel",
          "    ON",
          "      ligt_in_wijk.ligt_in_stadsdeel->>'id' = ligt_in_stadsdeel.identificatie AND",
          "      ligt_in_wijk.ligt_in_stadsdeel->>'volgnummer' = ligt_in_stadsdeel.volgnummer",
          "    -- SELECT _ligt_in_ggwgebied",
          "    LEFT JOIN",
          "      gebieden_ggwgebieden AS ligt_in_ggwgebied",
          "    ON",
          "      ligt_in_buurt._ligt_in_ggwgebied->>'id' = ligt_in_ggwgebied.identificatie AND",
          "      ligt_in_buurt._ligt_in_ggwgebied->>'volgnummer' = ligt_in_ggwgebied.volgnummer",
          "    -- SELECT _ligt_in_ggpgebied",
          "    LEFT JOIN",
          "      gebieden_ggpgebieden AS ligt_in_ggpgebied",
          "    ON",
          "      ligt_in_buurt._ligt_in_ggpgebied->>'id' = ligt_in_ggpgebied.identificatie AND",
          "      ligt_in_buurt._ligt_in_ggpgebied->>'volgnummer' = ligt_in_ggpgebied.volgnummer",
          "    WHERE",
          "      vot._expiration_date > current_date OR vot._expiration_date IS NULL"
        ]
      },
      "enhanced_history": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "      vot.identificatie,",
          "      vot.volgnummer,",
          "      vot.aanduiding_in_onderzoek,",
          "      vot.registratiedatum,",
          "      vot.geconstateerd,",
          "      json_build_object(",
          "        'identificatie', heeft_hoofdadres.identificatie,",
          "        'volgnummer', heeft_hoofdadres.volgnummer,",
          "        'huisnummer', heeft_hoofdadres.huisnummer,",
          "        'huisletter', heeft_hoofdadres.huisletter,",
          "        'huisnummertoevoeging', heeft_hoofdadres.huisnummertoevoeging,",
          "        'postcode', heeft_hoofdadres.postcode",
          "      ) AS _ref_heeft_hoofdadres_bag_nag,",
          "      json_build_object(",
          "        'identificatie', ligt_aan_openbareruimte.identificatie,",
          "        'volgnummer', ligt_aan_openbareruimte.volgnummer,",
          "        'naam', ligt_aan_openbareruimte.naam",
          "      ) AS _ref_ligt_aan_openbareruimte_bag_ore,",
          "      json_build_object(",
          "        'identificatie', ligt_in_woonplaats.identificatie,",
          "        'volgnummer', ligt_in_woonplaats.volgnummer,",
          "        'naam', ligt_in_woonplaats.naam",
          "      ) AS _ref_ligt_in_woonplaats_bag_wps,",
          "      json_build_object(",
          "        'identificatie', ligt_in_gemeente.identificatie,",
          "        'naam', ligt_in_gemeente.naam",
          "      ) AS _ref_ligt_in_gemeente_brk_gme,",
          "      _mref_heeft_nevenadres_bag_nag,",
          "      vot.gebruiksdoel,",
          "      vot.gebruiksdoel_woonfunctie,",
          "      vot.gebruiksdoel_gezondheidszorgfunctie,",
          "      vot.aantal_eenheden_complex,",
          "      vot.feitelijk_gebruik,",
          "      vot.oppervlakte,",
          "      vot.status,",
          "      vot.begin_geldigheid,",
          "      vot.eind_geldigheid,",
          "      vot.documentdatum,",
          "      vot.documentnummer,",
          "      vot.verdieping_toegang,",
          "      vot.toegang,",
          "      vot.aantal_bouwlagen,",
          "      vot.hoogste_bouwlaag,",
          "      vot.laagste_bouwlaag,",
          "      vot.aantal_kamers,",
          "      vot.eigendomsverhouding,",
          "      vot.redenopvoer,",
          "      vot.redenafvoer,",
          "      _mref_ligt_in_panden_bag_pnd,",
          "      json_build_object(",
          "        'identificatie', ligt_in_bouwblok.identificatie,",
          "        'volgnummer', ligt_in_bouwblok.volgnummer,",
          "        'code', ligt_in_bouwblok.code",
          "      ) AS _ref_ligt_in_bouwblok_gbd_bbk,",
          "      json_build_object(",
          "        'identificatie', ligt_in_buurt.identificatie,",
          "        'volgnummer', ligt_in_buurt.volgnummer,",
          "        'code', ligt_in_buurt.code,",
          "        'naam', ligt_in_buurt.naam",
          "      ) AS _ref_ligt_in_buurt_gbd_brt,",
          "      json_build_object(",
          "        'identificatie', ligt_in_wijk.identificatie,",
          "        'volgnummer', ligt_in_wijk.volgnummer,",
          "        'code', ligt_in_wijk.code,",
          "        'naam', ligt_in_wijk.naam",
          "      ) AS _ref_ligt_in_wijk_gbd_wijk,",
          "      json_build_object(",
          "        'identificatie', ligt_in_ggwgebied.identificatie,",
          "        'volgnummer', ligt_in_ggwgebied.volgnummer,",
          "        'code', ligt_in_ggwgebied.code,",
          "        'naam', ligt_in_ggwgebied.naam",
          "      ) AS _ref_ligt_in_ggwgebied_gbd_ggw,",
          "      json_build_object(",
          "        'identificatie', ligt_in_stadsdeel.identificatie,",
          "        'volgnummer', ligt_in_stadsdeel.volgnummer,",
          "        'code', ligt_in_stadsdeel.code,",
          "        'naam', ligt_in_stadsdeel.naam",
          "      ) AS _ref_ligt_in_stadsdeel_gbd_sdl,",
          "      json_build_object(",
          "        'identificatie', ligt_in_ggpgebied.identificatie,",
          "        'volgnummer', ligt_in_ggpgebied.volgnummer,",
          "        'code', ligt_in_ggpgebied.code,",
          "        'naam', ligt_in_ggpgebied.naam",
          "      ) AS _ref_ligt_in_ggpgebied_gbd_ggp,",
          "      vot.geometrie",
          "    FROM",
          "      bag_verblijfsobjecten AS vot",
          "    -- SELECT heeft_hoofdadres",
          "    LEFT JOIN",
          "      bag_nummeraanduidingen AS heeft_hoofdadres",
          "    ON",
          "      vot.heeft_hoofdadres->>'id' = heeft_hoofdadres._id AND",
          "      vot.heeft_hoofdadres->>'volgnummer' = heeft_hoofdadres.volgnummer",
          "    -- SELECT ligt_aan_openbareruimte",
          "    LEFT JOIN",
          "      bag_openbareruimtes AS ligt_aan_openbareruimte",
          "    ON",
          "      heeft_hoofdadres.ligt_aan_openbareruimte->>'id' = ligt_aan_openbareruimte._id AND",
          "      heeft_hoofdadres.ligt_aan_openbareruimte->>'volgnummer' = ligt_aan_openbareruimte.volgnummer",
          "    -- SELECT ligt_in_woonplaats",
          "    LEFT JOIN",
          "      bag_woonplaatsen AS ligt_in_woonplaats",
          "    ON",
          "      heeft_hoofdadres.ligt_in_woonplaats->>'id' = ligt_in_woonplaats._id AND",
          "      heeft_hoofdadres.ligt_in_woonplaats->>'volgnummer' = ligt_in_woonplaats.volgnummer",
          "    -- SELECT ligt_in_gemeente",
          "    LEFT JOIN",
          "      brk_gemeentes AS ligt_in_gemeente",
          "    ON",
          "      ligt_in_woonplaats.ligt_in_gemeente->>'id' = ligt_in_gemeente._id",
          "    -- SELECT heeft_nevenadres",
          "    CROSS JOIN LATERAL (",
          "      SELECT",
          "        json_agg(",
          "          json_build_object(",
          "            'identificatie', nevenadres.id,",
          "            'volgnummer', nevenadres.volgnummer",
          "          )",
          "        ) AS _mref_heeft_nevenadres_bag_nag",
          "      FROM",
          "        jsonb_to_recordset(vot.heeft_nevenadres) AS nevenadres(id text, volgnummer text)",
          "    ) AS heeft_nevenadres",
          "    -- SELECT ligt_in_panden",
          "    CROSS JOIN LATERAL (",
          "      SELECT",
          "        json_agg(",
          "          json_build_object(",
          "            'identificatie', pand.id,",
          "            'volgnummer', pand.volgnummer",
          "          )",
          "        ) AS _mref_ligt_in_panden_bag_pnd",
          "      FROM",
          "        jsonb_to_recordset(vot.ligt_in_panden) AS pand(id text, volgnummer text)",
          "    ) AS ligt_in_panden",
          "    -- SELECT ligt_in_bouwblok",
          "    LEFT JOIN",
          "      bag_panden AS pand_bouwblok",
          "    ON",
          "      vot.ligt_in_panden#>>'{0,id}' = pand_bouwblok.identificatie AND",
          "      vot.ligt_in_panden#>>'{0,volgnummer}' = pand_bouwblok.volgnummer",
          "    LEFT JOIN",
          "      gebieden_bouwblokken AS ligt_in_bouwblok",
          "    ON",
          "      pand_bouwblok.ligt_in_bouwblok->>'id' = ligt_in_bouwblok.identificatie AND",
          "      pand_bouwblok.ligt_in_bouwblok->>'volgnummer' = ligt_in_bouwblok.volgnummer",
          "    -- SELECT ligt_in_buurt",
          "    LEFT JOIN",
          "      gebieden_buurten AS ligt_in_buurt",
          "    ON",
          "      vot.ligt_in_buurt->>'id' = ligt_in_buurt.identificatie AND",
          "      vot.ligt_in_buurt->>'volgnummer' = ligt_in_buurt.volgnummer",
          "    -- SELECT ligt_in_wijk",
          "    LEFT JOIN",
          "      gebieden_wijken AS ligt_in_wijk",
          "    ON",
          "      ligt_in_buurt.ligt_in_wijk->>'id' = ligt_in_wijk.identificatie AND",
          "      ligt_in_buurt.ligt_in_wijk->>'volgnummer' = ligt_in_wijk.volgnummer",
          "    -- SELECT ligt_in_stadsdeel",
          "    LEFT JOIN",
          "      gebieden_stadsdelen AS ligt_in_stadsdeel",
          "    ON",
          "      ligt_in_wijk.ligt_in_stadsdeel->>'id' = ligt_in_stadsdeel.identificatie AND",
          "      ligt_in_wijk.ligt_in_stadsdeel->>'volgnummer' = ligt_in_stadsdeel.volgnummer",
          "    -- SELECT _ligt_in_ggwgebied",
          "    LEFT JOIN",
          "      gebieden_ggwgebieden AS ligt_in_ggwgebied",
          "    ON",
          "      ligt_in_buurt._ligt_in_ggwgebied->>'id' = ligt_in_ggwgebied.identificatie AND",
          "      ligt_in_buurt._ligt_in_ggwgebied->>'volgnummer' = ligt_in_ggwgebied.volgnummer",
          "    -- SELECT _ligt_in_ggpgebied",
          "    LEFT JOIN",
          "      gebieden_ggpgebieden AS ligt_in_ggpgebied",
          "    ON",
          "      ligt_in_buurt._ligt_in_ggpgebied->>'id' = ligt_in_ggpgebied.identificatie AND",
          "      ligt_in_buurt._ligt_in_ggpgebied->>'volgnummer' = ligt_in_ggpgebied.volgnummer",
          "    ORDER BY  vot.identificatie, vot.volgnummer"
        ]
      }
    },
    "nummeraanduidingen": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "      nag.identificatie,",
          "      nag.aanduiding_in_onderzoek,",
          "      nag.geconstateerd,",
          "      nag.huisnummer,",
          "      nag.huisletter,",
          "      nag.huisnummertoevoeging,",
          "      nag.postcode,",
          "      json_build_object(",
          "        'identificatie', ligt_aan_openbareruimte.identificatie,",
          "        'naam', ligt_aan_openbareruimte.naam",
          "      ) AS _ref_ligt_aan_openbareruimte_bag_ore,",
          "      json_build_object(",
          "        'identificatie', ligt_in_woonplaats.identificatie,",
          "        'naam', ligt_in_woonplaats.naam",
          "      ) AS _ref_ligt_in_woonplaats_bag_wps,",
          "      nag.begin_geldigheid,",
          "      nag.eind_geldigheid,",
          "      nag.type_adresseerbaar_object,",
          "      nag.type_adres,",
          "      nag.documentdatum,",
          "      nag.documentnummer,",
          "      nag.status,",
          "      json_build_object(",
          "        'identificatie', adresseert_verblijfsobject.identificatie",
          "      ) AS _ref_adresseert_verblijfsobject_bag_vot,",
          "      json_build_object(",
          "        'identificatie', adresseert_ligplaats.identificatie",
          "      ) AS _ref_adresseert_ligplaats_bag_lps,",
          "      json_build_object(",
          "        'identificatie', adresseert_standplaats.identificatie",
          "      ) AS _ref_adresseert_standplaats_bag_sps",
          "    FROM",
          "      bag_nummeraanduidingen AS nag",
          "    -- SELECT ligt_aan_openbareruimte",
          "    LEFT JOIN",
          "      bag_openbareruimtes AS ligt_aan_openbareruimte",
          "    ON",
          "      nag.ligt_aan_openbareruimte->>'id' = ligt_aan_openbareruimte._id AND",
          "      nag.ligt_aan_openbareruimte->>'volgnummer' = ligt_aan_openbareruimte.volgnummer",
          "    -- SELECT ligt_in_woonplaats",
          "    LEFT JOIN",
          "      bag_woonplaatsen AS ligt_in_woonplaats",
          "    ON",
          "      nag.ligt_in_woonplaats->>'id' = ligt_in_woonplaats._id AND",
          "      nag.ligt_in_woonplaats->>'volgnummer' = ligt_in_woonplaats.volgnummer",
          "    -- SELECT adresseert_verblijfsobject",
          "    LEFT JOIN",
          "      bag_verblijfsobjecten AS adresseert_verblijfsobject",
          "    ON",
          "      nag.adresseert_verblijfsobject->>'id' = adresseert_verblijfsobject._id AND",
          "      nag.adresseert_verblijfsobject->>'volgnummer' = adresseert_verblijfsobject.volgnummer",
          "    -- SELECT adresseert_ligplaats",
          "    LEFT JOIN",
          "      bag_ligplaatsen AS adresseert_ligplaats",
          "    ON",
          "      nag.adresseert_ligplaats->>'id' = adresseert_ligplaats._id AND",
          "      nag.adresseert_ligplaats->>'volgnummer' = adresseert_ligplaats.volgnummer",
          "    -- SELECT adresseert_standplaats",
          "    LEFT JOIN",
          "      bag_standplaatsen AS adresseert_standplaats",
          "    ON",
          "      nag.adresseert_standplaats->>'id' = adresseert_standplaats._id AND",
          "      nag.adresseert_standplaats->>'volgnummer' = adresseert_standplaats.volgnummer",
          "    WHERE",
          "      nag._expiration_date > current_date OR nag._expiration_date IS NULL"
        ]
      },
      "enhanced_history": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "      nag.identificatie,",
          "      nag.volgnummer,",
          "      nag.registratiedatum,",
          "      nag.aanduiding_in_onderzoek,",
          "      nag.geconstateerd,",
          "      nag.huisnummer,",
          "      nag.huisletter,",
          "      nag.huisnummertoevoeging,",
          "      nag.postcode,",
          "      json_build_object(",
          "        'identificatie', ligt_aan_openbareruimte.identificatie,",
          "        'volgnummer', ligt_aan_openbareruimte.volgnummer,",
          "        'naam', ligt_aan_openbareruimte.naam",
          "      ) AS _ref_ligt_aan_openbareruimte_bag_ore,",
          "      json_build_object(",
          "        'identificatie', ligt_in_woonplaats.identificatie,",
          "        'volgnummer', ligt_in_woonplaats.volgnummer,",
          "        'naam', ligt_in_woonplaats.naam",
          "      ) AS _ref_ligt_in_woonplaats_bag_wps,",
          "      nag.begin_geldigheid,",
          "      nag.eind_geldigheid,",
          "      nag.type_adresseerbaar_object,",
          "      nag.type_adres,",
          "      nag.documentdatum,",
          "      nag.documentnummer,",
          "      nag.status,",
          "      json_build_object(",
          "        'identificatie', adresseert_verblijfsobject.identificatie,",
          "        'volgnummer', adresseert_verblijfsobject.volgnummer",
          "      ) AS _ref_adresseert_verblijfsobject_bag_vot,",
          "      json_build_object(",
          "        'identificatie', adresseert_ligplaats.identificatie,",
          "        'volgnummer', adresseert_ligplaats.volgnummer",
          "      ) AS _ref_adresseert_ligplaats_bag_lps,",
          "      json_build_object(",
          "        'identificatie', adresseert_standplaats.identificatie,",
          "        'volgnummer', adresseert_standplaats.volgnummer",
          "      ) AS _ref_adresseert_standplaats_bag_sps",
          "    FROM",
          "      bag_nummeraanduidingen AS nag",
          "    -- SELECT ligt_aan_openbareruimte",
          "    LEFT JOIN",
          "      bag_openbareruimtes AS ligt_aan_openbareruimte",
          "    ON",
          "      nag.ligt_aan_openbareruimte->>'id' = ligt_aan_openbareruimte._id AND",
          "      nag.ligt_aan_openbareruimte->>'volgnummer' = ligt_aan_openbareruimte.volgnummer",
          "    -- SELECT ligt_in_woonplaats",
          "    LEFT JOIN",
          "      bag_woonplaatsen AS ligt_in_woonplaats",
          "    ON",
          "      nag.ligt_in_woonplaats->>'id' = ligt_in_woonplaats._id AND",
          "      nag.ligt_in_woonplaats->>'volgnummer' = ligt_in_woonplaats.volgnummer",
          "    -- SELECT adresseert_verblijfsobject",
          "    LEFT JOIN",
          "      bag_verblijfsobjecten AS adresseert_verblijfsobject",
          "    ON",
          "      nag.adresseert_verblijfsobject->>'id' = adresseert_verblijfsobject._id AND",
          "      nag.adresseert_verblijfsobject->>'volgnummer' = adresseert_verblijfsobject.volgnummer",
          "    -- SELECT adresseert_ligplaats",
          "    LEFT JOIN",
          "      bag_ligplaatsen AS adresseert_ligplaats",
          "    ON",
          "      nag.adresseert_ligplaats->>'id' = adresseert_ligplaats._id AND",
          "      nag.adresseert_ligplaats->>'volgnummer' = adresseert_ligplaats.volgnummer",
          "    -- SELECT adresseert_standplaats",
          "    LEFT JOIN",
          "      bag_standplaatsen AS adresseert_standplaats",
          "    ON",
          "      nag.adresseert_standplaats->>'id' = adresseert_standplaats._id AND",
          "      nag.adresseert_standplaats->>'volgnummer' = adresseert_standplaats.volgnummer",
          "    ORDER BY  nag.identificatie, nag.volgnummer"
        ]
      }
    },
    "panden": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "      pnd.identificatie,",
          "      pnd.aanduiding_in_onderzoek,",
          "      pnd.geconstateerd,",
          "      pnd.oorspronkelijk_bouwjaar,",
          "      pnd.status,",
          "      pnd.begin_geldigheid,",
          "      pnd.eind_geldigheid,",
          "      pnd.documentnummer,",
          "      pnd.documentdatum,",
          "      pnd.naam,",
          "      pnd.ligging,",
          "      pnd.aantal_bouwlagen,",
          "      pnd.hoogste_bouwlaag,",
          "      pnd.laagste_bouwlaag,",
          "      pnd.type_woonobject,",
          "      json_build_object(",
          "        'identificatie', ligt_in_bouwblok.identificatie,",
          "        'code', ligt_in_bouwblok.code",
          "      ) AS _ref_ligt_in_bouwblok_gbd_bbk,",
          "      json_build_object(",
          "        'identificatie', ligt_in_buurt.identificatie,",
          "        'code', ligt_in_buurt.code,",
          "        'naam', ligt_in_buurt.naam",
          "      ) AS _ref_ligt_in_buurt_gbd_brt,",
          "      json_build_object(",
          "        'identificatie', ligt_in_wijk.identificatie,",
          "        'code', ligt_in_wijk.code,",
          "        'naam', ligt_in_wijk.naam",
          "      ) AS _ref_ligt_in_wijk_gbd_wijk,",
          "      json_build_object(",
          "        'identificatie', ligt_in_ggwgebied.identificatie,",
          "        'code', ligt_in_ggwgebied.code,",
          "        'naam', ligt_in_ggwgebied.naam",
          "      ) AS _ref_ligt_in_ggwgebied_gbd_ggw,",
          "      json_build_object(",
          "        'identificatie', ligt_in_stadsdeel.identificatie,",
          "        'code', ligt_in_stadsdeel.code,",
          "        'naam', ligt_in_stadsdeel.naam",
          "      ) AS _ref_ligt_in_stadsdeel_gbd_sdl,",
          "      json_build_object(",
          "        'identificatie', ligt_in_ggpgebied.identificatie,",
          "        'code', ligt_in_ggpgebied.code,",
          "        'naam', ligt_in_ggpgebied.naam",
          "      ) AS _ref_ligt_in_ggpgebied_gbd_ggp,",
          "      pnd.geometrie",
          "    FROM",
          "      bag_panden AS pnd",
          "    -- SELECT ligt_in_bouwblok",
          "    LEFT JOIN",
          "      gebieden_bouwblokken AS ligt_in_bouwblok",
          "    ON",
          "      pnd.ligt_in_bouwblok->>'id' = ligt_in_bouwblok.identificatie AND",
          "      pnd.ligt_in_bouwblok->>'volgnummer' = ligt_in_bouwblok.volgnummer",
          "    -- SELECT ligt_in_buurt",
          "    LEFT JOIN",
          "      gebieden_buurten AS ligt_in_buurt",
          "    ON",
          "      ligt_in_bouwblok.ligt_in_buurt->>'id' = ligt_in_buurt.identificatie AND",
          "      ligt_in_bouwblok.ligt_in_buurt->>'volgnummer' = ligt_in_buurt.volgnummer",
          "    -- SELECT ligt_in_wijk",
          "    LEFT JOIN",
          "      gebieden_wijken AS ligt_in_wijk",
          "    ON",
          "      ligt_in_buurt.ligt_in_wijk->>'id' = ligt_in_wijk.identificatie AND",
          "      ligt_in_buurt.ligt_in_wijk->>'volgnummer' = ligt_in_wijk.volgnummer",
          "    -- SELECT ligt_in_stadsdeel",
          "    LEFT JOIN",
          "      gebieden_stadsdelen AS ligt_in_stadsdeel",
          "    ON",
          "      ligt_in_wijk.ligt_in_stadsdeel->>'id' = ligt_in_stadsdeel.identificatie AND",
          "      ligt_in_wijk.ligt_in_stadsdeel->>'volgnummer' = ligt_in_stadsdeel.volgnummer",
          "    -- SELECT _ligt_in_ggwgebied",
          "    LEFT JOIN",
          "      gebieden_ggwgebieden AS ligt_in_ggwgebied",
          "    ON",
          "      ligt_in_buurt._ligt_in_ggwgebied->>'id' = ligt_in_ggwgebied.identificatie AND",
          "      ligt_in_buurt._ligt_in_ggwgebied->>'volgnummer' = ligt_in_ggwgebied.volgnummer",
          "    -- SELECT _ligt_in_ggpgebied",
          "    LEFT JOIN",
          "      gebieden_ggpgebieden AS ligt_in_ggpgebied",
          "    ON",
          "      ligt_in_buurt._ligt_in_ggpgebied->>'id' = ligt_in_ggpgebied.identificatie AND",
          "      ligt_in_buurt._ligt_in_ggpgebied->>'volgnummer' = ligt_in_ggpgebied.volgnummer",
          "    WHERE",
          "      pnd._expiration_date > current_date OR pnd._expiration_date IS NULL"
        ]
      },
      "enhanced_history": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "      pnd.identificatie,",
          "      pnd.volgnummer,",
          "      pnd.registratiedatum,",
          "      pnd.aanduiding_in_onderzoek,",
          "      pnd.geconstateerd,",
          "      pnd.oorspronkelijk_bouwjaar,",
          "      pnd.status,",
          "      pnd.begin_geldigheid,",
          "      pnd.eind_geldigheid,",
          "      pnd.documentnummer,",
          "      pnd.documentdatum,",
          "      pnd.naam,",
          "      pnd.ligging,",
          "      pnd.aantal_bouwlagen,",
          "      pnd.hoogste_bouwlaag,",
          "      pnd.laagste_bouwlaag,",
          "      pnd.type_woonobject,",
          "      json_build_object(",
          "        'identificatie', ligt_in_bouwblok.identificatie,",
          "        'volgnummer', ligt_in_bouwblok.volgnummer,",
          "        'code', ligt_in_bouwblok.code",
          "      ) AS _ref_ligt_in_bouwblok_gbd_bbk,",
          "      json_build_object(",
          "        'identificatie', ligt_in_buurt.identificatie,",
          "        'volgnummer', ligt_in_buurt.volgnummer,",
          "        'code', ligt_in_buurt.code,",
          "        'naam', ligt_in_buurt.naam",
          "      ) AS _ref_ligt_in_buurt_gbd_brt,",
          "      json_build_object(",
          "        'identificatie', ligt_in_wijk.identificatie,",
          "        'volgnummer', ligt_in_wijk.volgnummer,",
          "        'code', ligt_in_wijk.code,",
          "        'naam', ligt_in_wijk.naam",
          "      ) AS _ref_ligt_in_wijk_gbd_wijk,",
          "      json_build_object(",
          "        'identificatie', ligt_in_ggwgebied.identificatie,",
          "        'volgnummer', ligt_in_ggwgebied.volgnummer,",
          "        'code', ligt_in_ggwgebied.code,",
          "        'naam', ligt_in_ggwgebied.naam",
          "      ) AS _ref_ligt_in_ggwgebied_gbd_ggw,",
          "      json_build_object(",
          "        'identificatie', ligt_in_stadsdeel.identificatie,",
          "        'volgnummer', ligt_in_stadsdeel.volgnummer,",
          "        'code', ligt_in_stadsdeel.code,",
          "        'naam', ligt_in_stadsdeel.naam",
          "      ) AS _ref_ligt_in_stadsdeel_gbd_sdl,",
          "      json_build_object(",
          "        'identificatie', ligt_in_ggpgebied.identificatie,",
          "        'volgnummer', ligt_in_ggpgebied.volgnummer,",
          "        'code', ligt_in_ggpgebied.code,",
          "        'naam', ligt_in_ggpgebied.naam",
          "      ) AS _ref_ligt_in_ggpgebied_gbd_ggp,",
          "      pnd.geometrie",
          "    FROM",
          "      bag_panden AS pnd",
          "    -- SELECT ligt_in_bouwblok",
          "    LEFT JOIN",
          "      gebieden_bouwblokken AS ligt_in_bouwblok",
          "    ON",
          "      pnd.ligt_in_bouwblok->>'id' = ligt_in_bouwblok.identificatie AND",
          "      pnd.ligt_in_bouwblok->>'volgnummer' = ligt_in_bouwblok.volgnummer",
          "    -- SELECT ligt_in_buurt",
          "    LEFT JOIN",
          "      gebieden_buurten AS ligt_in_buurt",
          "    ON",
          "      ligt_in_bouwblok.ligt_in_buurt->>'id' = ligt_in_buurt.identificatie AND",
          "      ligt_in_bouwblok.ligt_in_buurt->>'volgnummer' = ligt_in_buurt.volgnummer",
          "    -- SELECT ligt_in_wijk",
          "    LEFT JOIN",
          "      gebieden_wijken AS ligt_in_wijk",
          "    ON",
          "      ligt_in_buurt.ligt_in_wijk->>'id' = ligt_in_wijk.identificatie AND",
          "      ligt_in_buurt.ligt_in_wijk->>'volgnummer' = ligt_in_wijk.volgnummer",
          "    -- SELECT ligt_in_stadsdeel",
          "    LEFT JOIN",
          "      gebieden_stadsdelen AS ligt_in_stadsdeel",
          "    ON",
          "      ligt_in_wijk.ligt_in_stadsdeel->>'id' = ligt_in_stadsdeel.identificatie AND",
          "      ligt_in_wijk.ligt_in_stadsdeel->>'volgnummer' = ligt_in_stadsdeel.volgnummer",
          "    -- SELECT _ligt_in_ggwgebied",
          "    LEFT JOIN",
          "      gebieden_ggwgebieden AS ligt_in_ggwgebied",
          "    ON",
          "      ligt_in_buurt._ligt_in_ggwgebied->>'id' = ligt_in_ggwgebied.identificatie AND",
          "      ligt_in_buurt._ligt_in_ggwgebied->>'volgnummer' = ligt_in_ggwgebied.volgnummer",
          "    -- SELECT _ligt_in_ggpgebied",
          "    LEFT JOIN",
          "      gebieden_ggpgebieden AS ligt_in_ggpgebied",
          "    ON",
          "      ligt_in_buurt._ligt_in_ggpgebied->>'id' = ligt_in_ggpgebied.identificatie AND",
          "      ligt_in_buurt._ligt_in_ggpgebied->>'volgnummer' = ligt_in_ggpgebied.volgnummer",
          "    ORDER BY  pnd.identificatie, pnd.volgnummer"
        ]
      }
    },
    "brondocumenten": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "      bag.dossier,",
          "      dsr.heeft_brondocument AS documentnummer,",
          "      date(dct.registratiedatum) AS registratiedatum,",
          "      dct.bronleverancier->>'omschrijving' AS bronleverancier,",
          "      dct.type_dossier->>'omschrijving' AS type_dossier,",
          "      dct.type_brondocument->>'omschrijving' AS type_brondocument ",
          "    FROM (",
          "      SELECT heeft_dossier->>'id' AS dossier FROM bag_ligplaatsen WHERE _expiration_date IS NULL OR _expiration_date > NOW()",
          "      UNION",
          "      SELECT heeft_dossier->>'id' AS dossier FROM bag_nummeraanduidingen WHERE _expiration_date IS NULL OR _expiration_date > NOW()",
          "      UNION",
          "      SELECT heeft_dossier->>'id' AS dossier FROM bag_openbareruimtes WHERE _expiration_date IS NULL OR _expiration_date > NOW()",
          "      UNION",
          "      SELECT heeft_dossier->>'id' AS dossier FROM bag_panden WHERE _expiration_date IS NULL OR _expiration_date > NOW()",
          "      UNION",
          "      SELECT heeft_dossier->>'id' AS dossier FROM bag_standplaatsen WHERE _expiration_date IS NULL OR _expiration_date > NOW()",
          "      UNION",
          "      SELECT heeft_dossier->>'id' AS dossier FROM bag_verblijfsobjecten WHERE _expiration_date IS NULL OR _expiration_date > NOW()",
          "      UNION",
          "      SELECT heeft_dossier->>'id' AS dossier FROM bag_woonplaatsen WHERE _expiration_date IS NULL OR _expiration_date > NOW()",
          "    ) bag",
          "    LEFT JOIN (",
          "     SELECT dossier, value->>'id' AS heeft_brondocument FROM bag_dossiers, jsonb_array_elements(bag_dossiers.heeft_brondocumenten)",
          "    ) dsr ON dsr.dossier = bag.dossier",
          "    LEFT JOIN bag_brondocumenten dct ON dsr.heeft_brondocument = dct.documentnummer",
          "    WHERE dsr.heeft_brondocument IS NOT NULL"
        ]
      },
      "enhanced_history": {
        "version": "0.1",
        "query": [
          "    SELECT",
          "      bag.dossier,",
          "      dsr.heeft_brondocument AS documentnummer,",
          "      date(dct.registratiedatum) AS registratiedatum,",
          "      dct.bronleverancier->>'omschrijving' AS bronleverancier,",
          "      dct.type_dossier->>'omschrijving' AS type_dossier,",
          "      dct.type_brondocument->>'omschrijving' AS type_brondocument ",
          "    FROM (",
          "      SELECT heeft_dossier->>'id' AS dossier FROM bag_ligplaatsen",
          "      UNION",
          "      SELECT heeft_dossier->>'id' AS dossier FROM bag_nummeraanduidingen",
          "      UNION",
          "      SELECT heeft_dossier->>'id' AS dossier FROM bag_openbareruimtes",
          "      UNION",
          "      SELECT heeft_dossier->>'id' AS dossier FROM bag_panden",
          "      UNION",
          "      SELECT heeft_dossier->>'id' AS dossier FROM bag_standplaatsen",
          "      UNION",
          "      SELECT heeft_dossier->>'id' AS dossier FROM bag_verblijfsobjecten",
          "      UNION",
          "      SELECT heeft_dossier->>'id' AS dossier FROM bag_woonplaatsen",
          "    ) bag",
          "    LEFT JOIN (",
          "     SELECT dossier, value->>'id' AS heeft_brondocument FROM bag_dossiers, jsonb_array_elements(bag_dossiers.heeft_brondocumenten)",
          "    ) dsr ON dsr.dossier = bag.dossier",
          "    LEFT JOIN bag_brondocumenten dct ON dsr.heeft_brondocument = dct.documentnummer",
          "    WHERE dsr.heeft_brondocument IS NOT NULL",
          "    ORDER BY bag.dossier, dsr.heeft_brondocument"
        ]
      }
    }
  },
  "wkpb": {
    "beperkingen": {
      "enhanced": {
        "version": "0.1",
        "query": [
          "    SELECT ",
          "      bpg.identificatie,",
          "      kot.identificatie AS kadastraal_object,",
          "      kot.aangeduid_door_kadastralegemeentecode->'broninfo'->>'omschrijving' AS aangeduid_door_kadastralegemeentecode,",
          "      kot.aangeduid_door_kadastralesectie->>'bronwaarde' AS aangeduid_door_kadastralesectie,",
          "      kot.perceelnummer,",
          "      kot.indexletter,",
          "      kot.indexnummer",
          "    FROM",
          "      wkpb_beperkingen bpg",
          "    LEFT JOIN (",
          "      SELECT ",
          "        *",
          "      FROM ",
          "        rel_wkpb_bpg_brk_kot_belast_kadastrale_objecten rel",
          "      LEFT JOIN",
          "        brk_kadastraleobjecten kot1",
          "      ON ",
          "        rel.dst_id = kot1._id ",
          "      AND",
          "        rel.dst_volgnummer = kot1.volgnummer",
          "      WHERE rel.dst_id IS NOT NULL",
          "    ) kot ",
          "    ON",
          "      kot.src_id = bpg._id",
          "    WHERE bpg._expiration_date IS NULL or bpg._expiration_date > NOW()",
          "    ORDER BY",
          "      bpg.identificatie"
        ]
      }
    }
  }
}
